// Install the controller module - AFF A20, A30, and AFF A50


.About this task

The following illustration shows the operation of the controller handles (from the left side of a controller) when reinstalling the controller, and can be used as a reference for the rest of the controller reinstallation steps.

image::../media/drw_g_and_t_handles_reinstall_ieops-1838.svg[controller handle operation to install a controller]

[cols="1,4"]

|===
a|
image::../media/icon_round_1.png[Callout number 1]
a|
If you rotated the controller handles upright (next to the tabs) to move them out of the way while you serviced the controller, rotate them down to the horizontal position. 
a|
image::../media/icon_round_2.png[Callout number 2] 
a|
Push the handles to reinsert the controller into the chassis halfway and then, when instructed, push until the controller is fully seated.
a|
image::../media/icon_round_3.png[Callout number 3] 
a|
Rotate the handles to the upright position and lock in place with the locking tabs.

|===

.Steps

. Close the controller cover and turn the thumbscrew clockwise until tightened.

. Insert the controller halfway into the chassis.
+
Align the rear of the controller with the opening in the chassis, and then gently push the controller using the handles.
+
NOTE: Do not completely insert the controller in the chassis until instructed to do so.
+

. Recable the controller, as needed.
+
// book end for comment in: If you are using fiber optic cables and you removed the transceivers (QSFPs or SFPs), reinstall them.
+
NOTE: Make sure that the console cable is connected to the controller because the controller begins to boot as soon as it is completely seated in the chassis and you want to catch and log the boot sequence.
+
. Fully seat the controller in the chassis:

.. Firmly push on the handles until the controller meets the midplane and is fully seated.
+
NOTE: Do not use excessive force when sliding the controller into the chassis; it could damage the connectors.
+
NOTE: The controller boots when fully seated in the chassis. It gets its power from the partner controller.
+
.. If the controller boots to the LOADER prompt, reboot the controller: `boot_ontap`
.. Rotate the controller handles up and lock in place with the tabs.
+
. Reconnect the power cord to the PSU on the replacement controller.
+
Once power is restored to the PSU, the status LED should be green.
+
[options="header" cols="1,2"]

|===
| If you are reconnecting a...| Then...
a|
AC PSU
a|
. Plug the power cord into the PSU.
. Secure the power cord with the power cord retainer.
a|
DC PSU
a|
. Plug the D-SUB DC power cord connector into the PSU.
. Tighten the two thumb screws to secure the D-SUB DC power cord connector to the PSU.

|===

+

. Give back the impaired controller from the partner controller: `storage failover giveback -ofnode _impaired_node_name_`

. Restore automatic giveback from the console of the healthy controller: `storage failover modify -node local -auto-giveback _true_`

. If AutoSupport is enabled, restore (unsuppress) automatic case creation: `system node autosupport invoke -node * -type all -message MAINT=END`

