Use this procedure to replace a failed I/O module.

* You can use this procedure with all versions of ONTAP supported by your storage system.
* All other components in the storage system must be functioning properly; if not, you must contact technical support.

== Step 1: Shut down the impaired node

Shut down or take over the impaired controller using one of the following options.

[role="tabbed-block"]
====

.Option 1: Most systems
--
include::../_include/shutdown_most_frus_no_PCM_remove.adoc[]
--
.Option 2: Controller is in a MetroCluster
--
include::../_include/shutdown_any_mcc_supported_no_PCM_remove.adoc[]
--

====

== Step 2: Replace a failed I/O module

To replace an I/O module, locate it within the enclosure and follow the specific sequence of steps.

. If you are not already grounded, properly ground yourself.

. Unplug any cabling on the target I/O module.
. Rotate the cable management tray down by pulling the buttons on both sides on the inside of the cable management tray and then rotate the tray down.

+
NOTE: This following illustration shows removing a horizontal and vertical I/O module. Typically, you will only remove one I/O module.
+

image:../media/drw_a1k_io_remove_replace_ieops-1382.svg[Remove I/O module]
+
[cols="1,4"]
|===
image:../media/icon_round_01.png[Callout number 1] 
a|
I/O cam latch
|===

+
Make sure that you label the cables so that you know where they came from.

. Remove the target I/O module from the enclosure:
.. Depress the cam button on the target module.
.. Rotate the cam latch away from the module as far as it will go.
.. Remove the module from the enclosure by hooking your finger into the cam lever opening and pulling the module out of the enclosure.
+
Make sure that you keep track of which slot the I/O module was in.

. Set the I/O module aside.
. Install the replacement I/O module into the enclosure:
.. Align the module with the edges of the enclosure slot opening.
.. Gently slide the module into the slot all the way into the enclosure, and then rotate the cam latch all the way up to lock the module in place.
. Cable the I/O module.
. Rotate the cable management tray up to the closed position.

== Step 3: Reboot the controller

After you replace an I/O module, you must reboot the controller module.

NOTE: If the new I/O module is not the same model as the failed module, you must first reboot the BMC.

.Steps
. Reboot the BMC if the replacement module is not the same model as the old module:
.. From the LOADER prompt, change to advanced privilege mode: _set privilege advanced_
.. Reboot the BMC: _sp reboot_
. From the LOADER prompt, reboot the node: _bye_
+
NOTE: This reinitializes the I/O cards and other components and reboots the node.
+
. Return the node to normal operation: _storage failover giveback -ofnode impaired_node_name_

. If automatic giveback was disabled, reenable it: _storage failover modify -node local -auto-giveback true_

== Step 4: Return the failed part to NetApp

include::../_include/complete_rma.adoc[]
