// New include specific to g-platform family because the requirements reference 9.17.1 and slot 4, which are unique to g-platforms.

To use this procedure, make sure your storage system meets all requirements and learn additional context for this procedure.

NOTE: If your storage system does not meet all requirements, you must use the link:io-module-replace.html[replace an I/O module procedure].


.Steps

. Ensure your storage system meets the following requirements:

* Your storage system must be running ONTAP 9.17.1 or later.
* The I/O module that failed must be a cluster and HA I/O module in slot 4 and you must be replacing it with an equivalent cluster and HA I/O module. You cannot change the I/O module type.
* Your storage system configuration must have only one cluster and HA I/O module located in slot 4, not two cluster and HA I/O modules.
* Your storage system must be a two-node (switchless or switched) cluster configuration.
* The controller with the failed cluster and HA I/O module (the impaired controller) must have already taken over the healthy partner controller. The takeover should have occurred automatically if the I/O module is failed.
+
For two-node clusters, the storage system cannot discern which controller has the failed I/O module, so either controller might initiate the takeover. The cluster and HA I/O module hot-swap procedure is only supported when the controller with the failed I/O module (the impaired controller) has taken over the healthy controller.
+
You can verify that the impaired controller successfully took over the healthy controller by entering the `storage failover show` command.
+
If you are not sure which controller has the failed I/O module, contact https://mysupport.netapp.com/site/global/dashboard[NetApp Support].  

* All other components in the storage system must be functioning properly; if not, contact https://mysupport.netapp.com/site/global/dashboard[NetApp Support] before continuing with this procedure.

. Learn additional context for this procedure:

* Hot-swapping the cluster and HA I/O module means that you do not have to perform a manual takeover; the impaired controller (the controller with the failed cluster and HA I/O module) has automatically taken over the healthy controller.
+
When the impaired controller has taken over the healthy controller, the only way to recover without an outage is to hot-swap the module.

* It is critical to apply the commands to the correct controller when you are hot-swapping the cluster and HA I/O module:

** The _impaired controller_ is the controller on which you are hot-swapping the cluster and HA I/O module and it is the controller that has taken over the healthy controller.
** The _healthy controller_ is the HA partner of the impaired controller and it is the controller that was taken over by the impaired controller.

* If needed, you can turn on the storage system location (blue) LEDs to aid in physically locating the affected storage system. Log into the BMC using SSH and enter the `system location-led _on_` command.
+
A storage system has three location LEDs: one on the operator display panel and one on each controller. Location LEDs remain illuminated for 30 minutes. 
+
You can turn them off by entering the `system location-led _off_` command. If you are unsure if the LEDs are on or off, you can check their state by entering the `system location-led show` command.