.Before you begin

* You must have reviewed the link:requirements-hot-add-shelf.html[hot-add requirements and best practices]. 

* You must have completed the applicable procedures in link:prepare-hot-add-shelf.html[Prepare-to hot-add a shelf]. 

* You must have installed the shelves, powered them on, and set the shelf IDs as described in link:prepare-hot-add-shelf.html[Install a shelf for a hot-add].

.Steps

. If you are hot-adding one shelf using one set of RoCE-capable ports (one RoCE-capable PCIe card) on each controller, and this is the only NS224 shelf in your HA pair, complete the following substeps.
+
Otherwise, go to the next step.
+
NOTE: This step assumes you installed the RoCE-capable PCIe card in slot 5.

 .. Cable shelf NSM A port e0a to controller A slot 5 port a (e5a).
 .. Cable shelf NSM A port e0b to controller B slot 5 port b (e5b).
 .. Cable shelf NSM B port e0a to controller B slot 5 port a (e5a).
 .. Cable shelf NSM B port e0b to controller A slot 5 port b (e5b).
+
The following illustration shows cabling for one hot-added shelf using one RoCE-capable PCIe card on each controller:
+
image::../media/drw_ns224_a800_c800_1shelf_IEOPS-964.svg[Cabling for an AFF/ASA A800 or AFF/ASA C800 with one NS224 shelf and one PCIe card, width=452px]

. If you are hot-adding one or two shelves using two sets of RoCE-capable ports (two RoCE-capable PCIe cards) on each controller, complete the applicable substeps.
+
NOTE: This step assumes you installed the RoCE-capable PCIe cards in slot 5 and slot 3.
+
[options="header" cols="1,3"]
|===
| Shelves| Cabling
a|
Shelf 1
a|
NOTE: These substeps assume you are beginning the cabling by cabling shelf port e0a to the RoCE-capable PCIe card in slot 5, instead of slot 3.

 .. Cable NSM A port e0a to controller A slot 5 port a (e5a).
 .. Cable NSM A port e0b to controller B slot 3 port b (e3b).
 .. Cable NSM B port e0a to controller B slot 5 port a (e5a).
 .. Cable NSM B port e0b to controller A slot 3 port b (e3b).
 .. If you are hot-adding a second shelf, complete the "`Shelf 2`" substeps; otherwise, go to step 3.

a|
Shelf 2
a|
NOTE: These substeps assume you are beginning the cabling by cabling shelf port e0a to the RoCE-capable PCIe card in slot 3, instead of slot 5 (which correlates with the cabling substeps for shelf 1).

 .. Cable NSM A port e0a to controller A slot 3 port a (e3a).
 .. Cable NSM A port e0b to controller B slot 5 port b (e5b).
 .. Cable NSM B port e0a to controller B slot 3 port a (e3a).
 .. Cable NSM B port e0b to controller A slot 5 port b (e5b).
 .. Go to step 3.

+
|===
The following illustration shows cabling for two hot-added shelves:
+
image::../media/drw_ns224_a800_c800_2shelves_IEOPS-966.svg[width=542px]

. Verify that the hot-added shelf is cabled correctly using https://mysupport.netapp.com/site/tools/tool-eula/activeiq-configadvisor[Active IQ Config Advisor^].
+
If any cabling errors are generated, follow the corrective actions provided.

.What's next?
If you disabled automatic drive assignment as part of the preparation for this procedure, you need to manually assign drive ownership and then reenable automatic drive assignment, if needed. Go to link:complete-hot-add-shelf.html[Complete the hot-add].

Otherwise, you are done with the hot-add shelf procedure.
