You replace the real-time clock (RTC) battery in the controller module so that your system's services and applications that depend on accurate time synchronization continue to function.

* You can use this procedure with all versions of ONTAP supported by your system
* All other components in the system must be functioning properly; if not, you must contact technical support.

== Step 1: Shut down the impaired controller

include::../_include/shutdown_most_frus.adoc[]

== Step 2: Remove the controller module

include::../_include/a1k_controller_remove_physical.adoc[]
 
. Open the air duct:
 .. Press in the locking tabs on the top of the air duct in the middle of the controller module.
 .. Rotate it upward to its completely open position.

== Step 3: Replace the RTC battery

To replace the RTC battery, locate it inside the controller and follow the specific sequence of steps.

. Locate the RTC battery under Riser 2.
+
image::../media/drw_A1K_RTC_remove_replace_IEOPS-1381.svg[]
+
[cols="1,4"]
|===
a|
image:../media/legend_icon_01.png[Callout number 1]|
Air duct
a|
image:../media/legend_icon_02.png[Callout number 2]
a|
Riser 2
a|
image:../media/legend_icon_03.png[Callout number 3]
a|
RTC battery and housing
|===

. Gently push the battery away from the holder, rotate it away from the holder, and then lift it out of the holder.
+
NOTE: Note the polarity of the battery as you remove it from the holder. The battery is marked with a plus sign and must be positioned in the holder correctly. A plus sign near the holder tells you how the battery should be positioned.

. Remove the replacement battery from the antistatic shipping bag.
. Note the polarity of the RTC battery, and then insert it into the holder by tilting the battery at an angle and pushing down.
. Visually inspect the battery to make sure that it is completely installed into the holder and that the polarity is correct.

== Step 4: Reinstall the controller module

include::../_include/a1k_controller_install_step_physical.adoc[]

== Step 5: Reset the time and date on the controller

 . Check the date and time on the healthy controller with the `show date` command.
 .. At the LOADER prompt on the target controller, check the time and date.
 .. If necessary, modify the date with the `set date mm/dd/yyyy` command.
 .. If necessary, set the time, in GMT, using the `set time hh:mm:ss` command.
 . Confirm the date and time on the target controller.
. At the LOADER prompt, enter `bye` to reinitialize the PCIe cards and other components and let the controller reboot.
. Return the controller to normal operation by giving back its storage: `storage failover giveback -ofnode _impaired_node_name_`
. If automatic giveback was disabled, reenable it: `storage failover modify -node local -auto-giveback true`

== Step 6: Return the failed part to NetApp

include::../_include/complete_rma.adoc[]
