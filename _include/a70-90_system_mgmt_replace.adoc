The System Management module, located at the back of the controller in slot 8,  contains onboard components for system management, as well as ports for external management. The target controller must be shut down to replace an impaired System Management module or to replace the boot media.

.Before you begin

* Make sure all other system components are working properly.
* Make sure that the partner controller is able to take over the impaired controller.
* Make sure you replace the failed component with a replacement component you received from NetApp.

.About this task
This procedure uses the following terminology:

 * The impaired controller is the controller on which you are performing maintenance.
 * The healthy controller is the HA partner of the impaired controller.

== Step 1: Shut down the impaired controller

Shut down or take over the impaired controller using one of the following options.

[role="tabbed-block"]
====

.Option 1: Most systems
--
include::../_include/shutdown_most_frus.adoc[]
--
.Option 2: Controller is in a MetroCluster
--
include::../_include/shutdown_any_mcc_no_2-node_mcc.adoc[]
--

====

== Step 2: Replace the System Management module

Replace the impaired system management module.

.Steps
. Ensure that all drives in the chassis are firmly seated against the midplane by using your thumbs to push each drive until you feel a positive stop.
// ontap-systems-internal/issues/1151
+
. Make sure NVRAM destage has completed before proceeding.  When the LED on the NV  module is off, NVRAM is destaged.  If the LED is flashing, wait for the flashing to stop. If flashing continues for longer than 5 minutes, contact Technical Support for assistance.
+
image::../media/drw_a800_drive_seated_IEOPS-960.svg[Seat disk drives]

. Go to the rear of the chassis. If you are not already grounded, properly ground yourself. 

.  Unplug the controller's PSUs.

+
NOTE: If your system has DC power, disconnect the power block from the PSUs. 
+

. Rotate the cable management tray down by pulling the buttons on both sides on the inside of the cable management tray and then rotate the tray down.

. Remove any cables connected to the System Management module. Make sure that label where the cables were connected, so that you can connect them to the correct ports when you reinstall the module. 
+
image::../media/drw_70-90_sys-mgmt_remove_ieops-1817.svg[Replace the System Management module]

+
[cols="1,4"]

|===
a|
image::../media/icon_round_1.png[Callout number 1]
a|
System Management module cam latch

|===

+


. Remove the System Management module:
.. Depress the system management cam button.
The cam lever moves away from the chassis.
 .. Rotate the cam lever all the way down.
 .. Loop your finger into the cam lever and pull the module straight out of the system.
.. Place the System Management module on an anti-static mat, so that the boot media is accessible.
. Move the boot media to the replacement System Management module:

+
image::../media/drw_a70-90_sys-mgmt_replace_ieops-1373.svg[Boot media replace]

+
[cols="1,4"]

|===
a|
image::../media/icon_round_1.png[Callout number 1]
a|
System Management module cam latch
a|
image::../media/icon_round_2.png[Callout number 2]
a|
Boot media locking button
a|
image::../media/icon_round_3.png[Callout number 3]
a|
Boot media
|===


.. Press the blue locking button.
The boot media rotates slightly upward.
.. Rotate the boot media up,  slide it out of the socket.
.. Install the boot media in the replacement System Management module:
... Align the edges of the boot media with the socket housing, and then gently push it squarely into the socket.
... Rotate the boot media down toward until it engages the locking button. Depress the blue locking if necessary.
. Install the system management module:
.. Align the edges of the replacement System Management module with the system opening and gently push it into the controller module.  
.. Gently slide the module into the slot until the cam latch begins to engage with the I/O cam pin, and then rotate the cam latch all the way up to lock the module in place.

. Recable the System Management module.

. Plug the power cords into the power supplies. The controller reboots as soon as power is restored.

+
NOTE: If you have DC power supplies, reconnect the power block to the power supplies.

+ 

 . Rotate the cable management tray up to the closed position.

== Step 3: Reboot the controller module

Reboot the controller module.

.Steps
. Enter _bye_ at the LOADER prompt.
. Return the impaired controller to normal operation by giving back its storage: `storage failover giveback -ofnode _impaired_node_name_`.

. If automatic giveback was disabled, reenable it: `storage failover modify -node local -auto-giveback true`.

. If AutoSupport is enabled, restore/unsuppress automatic case creation: `system node autosupport invoke -node * -type all -message MAINT=END`.

== Step 4: Install licenses and register serial number

include::../_include/install_licenses_serial_number-system_mgmt_module.adoc[]

== Step 5: Return the failed part to NetApp

include::../_include/complete_rma.adoc[]
